@inherits ComponentBase

<MudGrid>
    <MudItem xs="12">
        <MudTextField @bind-Value="Model.CatalogNumber" Label="Catalog number" Variant="Variant.Outlined" Immediate="true" ReadOnly="@ReadOnly" />
    </MudItem>
    <MudItem xs="12">
        <MudSelect @bind-Value="Model.Producer" T="ProducerModel" Label="Producer *" Variant="Variant.Outlined" Immediate="true" ReadOnly="@ReadOnly" ToStringFunc="@producerToString">
            @foreach (var item in Producers)
            {
                <MudSelectItem T="ProducerModel" Value="@(item)" />
            }
        </MudSelect>
    </MudItem>
    <MudItem xs="12">
        <MudSelect @bind-Value="Model.DC" T="DCModel" Label="DC *" Variant="Variant.Outlined" Immediate="true" ReadOnly="@ReadOnly" ToStringFunc="@dcToString">
            @foreach (var item in DCs)
            {
                <MudSelectItem T="DCModel" Value="@(item)" />
            }
        </MudSelect>
    </MudItem>
    <MudItem xs="12">
        <MudSelect @bind-Value="Model.ResultantMTTFd" T="MTTFdModel" Label="MTTFd *" Variant="Variant.Outlined" Immediate="true" ReadOnly="@ReadOnly" ToStringFunc="@mttfdToString">
            @foreach (var item in MTTFds)
            {
                <MudSelectItem T="MTTFdModel" Value="@(item)" />
            }
        </MudSelect>
    </MudItem>
    <MudItem xs="12" Style="padding-bottom: 0px;">
        <MudText Typo="Typo.subtitle1" Style="margin-bottom: 5px;">Fill data below if you don't know MTTFd</MudText>
        <hr />
    </MudItem>
    <MudItem xs="3">
        <MudTooltip Text="The average number of cycles until 10% of the components dangerously fail">
            <MudTextField @bind-Value="Model.B10d" Label="B10d" Variant="Variant.Outlined" ReadOnly="@ReadOnly" />
        </MudTooltip>
    </MudItem>
    <MudItem xs="3">
        <MudTooltip Text="Average operating time in hours per day">
            <MudTextField @bind-Value="Model.Hop" Label="Hop" Variant="Variant.Outlined" ReadOnly="@ReadOnly" />
        </MudTooltip>
    </MudItem>
    <MudItem xs="3">
        <MudTooltip Text="Average operating time in days per year">
            <MudTextField @bind-Value="Model.Dop" Label="Dop" Variant="Variant.Outlined" ReadOnly="@ReadOnly" />
        </MudTooltip>
    </MudItem>
    <MudItem xs="3">
        <MudTooltip Text="Mean time between the beginning of two consecutive cycles in sec/cycle">
            <MudTextField @bind-Value="Model.Tcycles" Label="Tcycles" Variant="Variant.Outlined" ReadOnly="@ReadOnly" />
        </MudTooltip>
    </MudItem>
</MudGrid>

@code {

    [Parameter]
    public ElementDetailModelPL Model { get; set; }

    [Parameter]
    public ICollection<MTTFdModel> MTTFds { get; set; }

    [Parameter]
    public ICollection<ProducerModel> Producers { get; set; }

    [Parameter]
    public ICollection<DCModel> DCs { get; set; }

    [Parameter]
    public bool ReadOnly { get; set; }

    private Func<ProducerModel, string> producerToString = producer => producer.Name;
    private Func<DCModel, string> dcToString = dc => dc.Value;
    private Func<MTTFdModel, string> mttfdToString = mttfd => mttfd.Value;

}